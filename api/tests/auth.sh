#!/bin/sh
# example without credentials (should receive a 403)
#curl -v -X GET http://localhost:3001/v1/config/health

# example using machine-to-machine token (TFE provider)
# this is a test token! it's not used for anything other than testing that auth works properly
#curl -v -X GET http://localhost:3001/v1/config/health \
#-H "Authorization: Bearer eyJraWQiOiJ3SjhVTUdkbXM3bGVFX1h0V2lGNnhpdXphc0VHN2NfYjNKOUcta0pmMFlZIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmttMXZRcGZ6MTViazRPaV9TWk5jSkJpUEN1YjhYQlhKN3hucjdJZjd5V3ciLCJpc3MiOiJodHRwczovL2N6aS1wcm9kLm9rdGEuY29tL29hdXRoMi9hdXM3amc0OW9kdUh1VVNzMjVkNyIsImF1ZCI6InRlc3QtdGVzdC10ZXN0LWF1dGh6IiwiaWF0IjoxNjcxMjEyNTY1LCJleHAiOjE2NzEyMTYxNjUsImNpZCI6IjBvYTdqZzVhbjh5RmkyY0JxNWQ3Iiwic2NwIjpbInN1cGVyc2V0Il0sInN1YiI6IjBvYTdqZzVhbjh5RmkyY0JxNWQ3In0.OKnkV341_Dt8L8vFTw3vE7HiXVw3LGCaiyt6KBlLag4b_TIeqDVYwnXZN-fp0F28mjNEWxxaCShEK6G0huSj_jiPged75GdptIQiD0emfdZ7TNZPtjyJmnwf3da4iK51jK6msI2Fkn8dnjyZbhC1PY4mwy1E6tq6HSv6nrm-GFqUFS_23it46sr4lR_lsPFvG2JyTdDiaT4zZlFBE9DUmk510OrzbCLBLqjFulsFzUEJY9tszbCPEPy2v0vzte-CfqgKKakC8gl5heobyZAKvLtchWlaitcgtCZd4v22WEKnB7WhYsLGqpX8fXX7YwTX7z0GX4yHgsDiTG5WBPbeeQ"

# example using github ID token
#curl -v -X GET http://localhost:3001/v1/config/health \
#-H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImVCWl9jbjNzWFlBZDBjaDRUSEJLSElnT3dPRSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xNDg3MyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOjQyZmIyYjI1LTdkYzgtNGVmNS04OGIwLTRhMWNmNzkwMzc2MjpjZjc0YzE4YS0yNzU3LTUyOGItYTlhMi05YjAwYjM5ZDk2ODAgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTQ4NzMiLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiI2M2I2NDhkZC0wYzBlLTRmNTgtOTk4ZC03ZjI0YWFmMTc5ZWUiLCJzaWQiOiI4ZGM5MmNiMS0yNDBjLTQ0OGEtYTFlMy05OWM0ZjQ4MjM1ZWIiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9wdWxsLzg4Ny9tZXJnZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL2hlYXRoai90Zi1wcm92aWRlci1hdXRoXCIsXCJQZXJtaXNzaW9uXCI6MX0se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsIm9pZGNfc3ViIjoicmVwbzpjaGFuenVja2VyYmVyZy9oYXBweTpwdWxsX3JlcXVlc3QiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL3B1bGwvODg3L21lcmdlXCIsXCJzaGFcIjpcImY5MjZiMGNlZDYwMDE3ZWFhZjdiYjAzYWMzODExZGQxZWUzNDk4ODNcIixcInJlcG9zaXRvcnlcIjpcImNoYW56dWNrZXJiZXJnL2hhcHB5XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJjaGFuenVja2VyYmVyZ1wiLFwicmVwb3NpdG9yeV9vd25lcl9pZFwiOlwiMTk5MTcyOTlcIixcInJ1bl9pZFwiOlwiMzcxNjA2NTkyOFwiLFwicnVuX251bWJlclwiOlwiMTdcIixcInJ1bl9hdHRlbXB0XCI6XCIxXCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicmVwb3NpdG9yeV9pZFwiOlwiNDM2NDAyNTgwXCIsXCJhY3Rvcl9pZFwiOlwiNzYwMTE5MTNcIixcImFjdG9yXCI6XCJqYWtleWhlYXRoXCIsXCJ3b3JrZmxvd1wiOlwiLmdpdGh1Yi93b3JrZmxvd3MvdGVzdC1pZC10b2tlbi55bWxcIixcImhlYWRfcmVmXCI6XCJoZWF0aGovdGVzdC1hdXRoXCIsXCJiYXNlX3JlZlwiOlwiaGVhdGhqL3RmLXByb3ZpZGVyLWF1dGhcIixcImV2ZW50X25hbWVcIjpcInB1bGxfcmVxdWVzdFwiLFwicmVmX3R5cGVcIjpcImJyYW5jaFwiLFwid29ya2Zsb3dfcmVmXCI6XCJjaGFuenVja2VyYmVyZy9oYXBweS8uZ2l0aHViL3dvcmtmbG93cy90ZXN0LWlkLXRva2VuLnltbEByZWZzL3B1bGwvODg3L21lcmdlXCIsXCJ3b3JrZmxvd19zaGFcIjpcImY5MjZiMGNlZDYwMDE3ZWFhZjdiYjAzYWMzODExZGQxZWUzNDk4ODNcIixcImpvYl93b3JrZmxvd19yZWZcIjpcImNoYW56dWNrZXJiZXJnL2hhcHB5Ly5naXRodWIvd29ya2Zsb3dzL3Rlc3QtaWQtdG9rZW4ueW1sQHJlZnMvcHVsbC84ODcvbWVyZ2VcIixcImpvYl93b3JrZmxvd19zaGFcIjpcImY5MjZiMGNlZDYwMDE3ZWFhZjdiYjAzYWMzODExZGQxZWUzNDk4ODNcIn0iLCJvcmNoaWQiOiI0MmZiMmIyNS03ZGM4LTRlZjUtODhiMC00YTFjZjc5MDM3NjIudGVzdC1pZC10b2tlbi5fX2RlZmF1bHQiLCJpc3MiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwiYXVkIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbXx2c286Yzg3YmQ4MWUtNjA4MC00MGYyLTg4MzAtNGY3OTAzNDAyMDQxIiwibmJmIjoxNjcxMjE5MzU1LCJleHAiOjE2NzEyNDIxNTV9.2HnAVY2D1G0afUDXrRLthPnmInBhxy0jvm9pKyaTqHmTff6TR2tlpKJFJq9yR5lc8VOMp_jxmYIytnqsd1z_sFG2-8aGY7-TBTup9AymOqtaimTgiqSlB653lFj_jDwU1D_Yk4SbmleX1kXVY6xuqTuQoaZKMNLdA2KH89m07bO5kXzFB671qSpB8O74sRZFTLIflMM69OZ940v6AAvXJLd2lxnD5A_noiF6SkNiKxGcJaX22EOK2kPqHF_Y-Su-xjGFWAJ7PEqEOJBLDCqGU4nrHmyRmDRMtXClpnVdYbVQNspsaij-A5hgU22Bzm2dXzgs4VLtXq4bXOSV4WQkZA"
